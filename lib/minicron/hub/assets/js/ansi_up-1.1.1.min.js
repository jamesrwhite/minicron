// ansi_up.js
// version : 1.1.1
// author : Dru Nelson
// license : MIT
// http://github.com/drudru/ansi_up
(function(e,t){function o(){this.fg=this.bg=null;this.bright=0}var n,r="1.1.1",i=typeof module!=="undefined",s=[[{color:"0, 0, 0","class":"ansi-black"},{color:"187, 0, 0","class":"ansi-red"},{color:"0, 187, 0","class":"ansi-green"},{color:"187, 187, 0","class":"ansi-yellow"},{color:"0, 0, 187","class":"ansi-blue"},{color:"187, 0, 187","class":"ansi-magenta"},{color:"0, 187, 187","class":"ansi-cyan"},{color:"255,255,255","class":"ansi-white"}],[{color:"85, 85, 85","class":"ansi-bright-black"},{color:"255, 85, 85","class":"ansi-bright-red"},{color:"0, 255, 0","class":"ansi-bright-green"},{color:"255, 255, 85","class":"ansi-bright-yellow"},{color:"85, 85, 255","class":"ansi-bright-blue"},{color:"255, 85, 255","class":"ansi-bright-magenta"},{color:"85, 255, 255","class":"ansi-bright-cyan"},{color:"255, 255, 255","class":"ansi-bright-white"}]];o.prototype.escape_for_html=function(e){return e.replace(/[&<>]/gm,function(e){if(e=="&")return"&";if(e=="<")return"&lt;";if(e==">")return"&gt;"})};o.prototype.linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})};o.prototype.ansi_to_html=function(e,t){var n=e.split(/\033\[/);var r=n.shift();var i=this;var s=n.map(function(e){return i.process_chunk(e,t)});s.unshift(r);var o=s.reduce(function(e,t){if(Array.isArray(t))return e.concat(t);e.push(t);return e},[]);var u=o.join("");return u};o.prototype.process_chunk=function(e,t){t=typeof t=="undefined"?{}:t;var n=typeof t.use_classes!="undefined"&&t.use_classes;var r=n?"class":"color";var i=e.match(/([\d;]*)m([^]*)/m);if(!i)return e;var o=i[2];var u=i[1].split(";");var a=this;u.map(function(e){var t=parseInt(e);if(isNaN(t)||t===0){a.fg=a.bg=null;a.bright=0}else if(t===1){a.bright=1}else if(t>=30&&t<38){a.fg=s[a.bright][t%10][r]}else if(t>=40&&t<48){a.bg=s[0][t%10][r]}});if(a.fg===null&&a.bg===null){return o}else{var f=classes=[];if(a.fg){if(n){classes.push(a.fg+"-fg")}else{f.push("color:rgb("+a.fg+")")}}if(a.bg){if(n){classes.push(a.bg+"-bg")}else{f.push("background-color:rgb("+a.bg+")")}}if(n){return['<span class="'+classes.join(" ")+'">',o,"</span>"]}else{return['<span style="'+f.join(";")+'">',o,"</span>"]}}};n={escape_for_html:function(e){var t=new o;return t.escape_for_html(e)},linkify:function(e){var t=new o;return t.linkify(e)},ansi_to_html:function(e,t){var n=new o;return n.ansi_to_html(e,t)},ansi_to_html_obj:function(){return new o}};if(i){module.exports=n}if(typeof window!=="undefined"&&typeof ender==="undefined"){window.ansi_up=n}if(typeof define==="function"&&define.amd){define("ansi_up",[],function(){return n})}})(Date)
