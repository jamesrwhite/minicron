{"name":"minicron","tagline":"A system to manage and monitor cron jobs.","body":"minicron\r\n=======\r\n\r\n[![Build Status](http://img.shields.io/travis/jamesrwhite/minicron.svg)](http://travis-ci.org/jamesrwhite/minicron)\r\n[![Code Climate](http://img.shields.io/codeclimate/github/jamesrwhite/minicron.svg)](https://codeclimate.com/github/jamesrwhite/minicron)\r\n[![Dependency Status](http://img.shields.io/gemnasium/jamesrwhite/minicron.svg)](https://gemnasium.com/jamesrwhite/minicron)\r\n[![Inline docs](http://inch-ci.org/github/jamesrwhite/minicron.png)](http://inch-ci.org/github/jamesrwhite/minicron)\r\n\r\nminicron aims to complement ````cron```` by making it easier to manage and monitor cron jobs, it can largely be\r\nthought of as two components that interact together, the CLI and the Hub. The CLI is what is installed on your\r\nserver(s) and executes your cron command and reports the status back to the Hub. The Hub is the central point\r\nwhere data from one or many instances of the CLI is received and stored in a database. The Hub also provides\r\na web interface to the data and makes it easy to manage your cron jobs.\r\n\r\n- [Background](#background)\r\n- [Features](#features)\r\n- [Requirements](#requirements)\r\n- [Installation](#installation)\r\n- [Usage](#usage)\r\n- [Security](#security)\r\n- [Versioning](#versioning)\r\n- [Roadmap](#roadmap)\r\n- [Contributing](#contributing)\r\n- [Support](#support)\r\n- [Credit](#credit)\r\n- [License](#license)\r\n\r\nScreenshots\r\n------------\r\n\r\n<img src=\"http://f.cl.ly/items/1k1h3n2A3Z3P3v2o0733/Image%202014-04-15%20at%2012.50.56%20am.png\" height=\"175\"/>\r\n<img src=\"http://f.cl.ly/items/0c27341m2l1E230B0q1l/Image%202014-04-15%20at%2012.40.42%20am.png\" height=\"175\"/>\r\n<img src=\"http://f.cl.ly/items/0Y2O0P0j012s3C3t3a3E/Image%202014-04-15%20at%2012.39.19%20am.png\" height=\"175\"/>\r\n<img src=\"http://f.cl.ly/items/2R1f2m350W46423c220D/Image%202014-04-15%20at%2012.32.41%20am.png\" height=\"175\"/>\r\n\r\nBackground\r\n-----------\r\n\r\nI initially developed minicron as part of my dissertation at university. The inspiration for developing minicron comes\r\nlargely from my experience and frustrations using cron, in particular my time spent working at [Miniclip](http://www.miniclip.com)\r\n(which is where the name comes from, miniclip.. minicron, get it?) where the management and monitoring of cron jobs at times proved\r\nto be tricky!\r\n\r\nFeatures\r\n---------\r\n\r\n- Web UI\r\n  - CRUD for cron jobs using ssh\r\n  - GUI for cron schedule create/read/update\r\n  - View realtime output/status as jobs run\r\n  - Historical data for all job executions\r\n- Alerts when jobs executions are missed or fail via:\r\n  - Email\r\n  - SMS ([using Twilio](https://www.twilio.com))\r\n  - [PagerDuty](http://www.pagerduty.com) (SMS, Phone, Mobile Push Notifications and Email)\r\n\r\nLots more is planned for the future, see [open issues](https://github.com/jamesrwhite/minicron/issues?state=open) or if\r\nyou don't see the feature you want there add it!\r\n\r\nRequirements\r\n-------------\r\n\r\n#### OS\r\n\r\n*Should* run on OSX and any Linux/BSD based OS.\r\n\r\n#### Database\r\n\r\n**Default**\r\n\r\n- SQLite\r\n\r\n**Also Supported**\r\n\r\n- MySQL\r\n- PostgreSQL\r\n\r\n#### Web Server / Reverse Proxy\r\n\r\n#### Nginx\r\nIf you want to run minicron behind a web server or proxy it needs to support the web socket protocol.\r\nnginx for example supports web sockets from version 1.3.13 and up. I've included an\r\n[example config](https://github.com/jamesrwhite/minicron/blob/master/config/nginx.conf) for nginx.\r\n\r\n#### Apache2\r\nIf your using the apache2 as your reverse proxy start by having the following modules installed\r\n- ````libapache2-mod-proxy-html````\r\n- ````apache2-utils````\r\n\r\nThen run the following commands to make sure the modules are enabled\r\n- ````sudo a2enmod proxy proxy_html proxy_http xml2enc````\r\n- ````sudo service apache2 restart````\r\n\r\nCreate a virtualhost file in your apache2/sites-avalible folder called minicron.conf and paste the following\r\n[example config](https://github.com/jamesrwhite/minicron/blob/master/config/apache.conf), update the required\r\nparameters and save and exit. enable the virtual host file by running ````sudo a2ensite minicron.conf && sudo service apache2 reload````\r\n\r\nLast this left to do is create a htpasswd.users, use this command ````sudo htpasswd -c /etc/apache2/htpasswd.users $USERNAME````\r\nreplace $USERNAME with your desired username and press enter you will be prompted to enter and confirm a password.\r\n\r\nTest your URL and you should be prompted for authentication and then have access to your minicron site through apache\r\n\r\nInstallation\r\n-------------\r\n\r\nminicron is currently under heavy development and I make no gurantees about stability while it remains pre 1.0, as such\r\nI would not recommend that you use this in production but I encourage you to give it a try in a non critical environment\r\nand help me to improve it and work towards the first stable release.\r\n\r\nminicron used to be available to install via [Ruby Gems](https://rubygems.org/gems/minicron), all future releases (>= 0.8)\r\nwill no longer be published there and made available as [ZIP file releases](https://github.com/jamesrwhite/minicron/releases)\r\ninstead.\r\n\r\n#### Recommended\r\n\r\n1. First check you meet the [requirements](#requirements)\r\n\r\n2. Either [grab the latest](https://github.com/jamesrwhite/minicron/releases/tag/v0.8.3) zip/tarball for your OS and\r\n   install minicron manually or use the handy install script (still being worked on):\r\n\r\n```\r\nsh -c \"$(curl -fsSL https://install.minicron.com)\"\r\n```\r\n\r\n4. Set your database configuration options in ````/etc/minicron.toml````, you can use the\r\n   [minicron.toml](https://github.com/jamesrwhite/minicron/blob/master/config/minicron.toml) as a guide on what options\r\n   are configurable\r\n\r\n5. Make sure you have created an empty database with the name you set in ````/etc/minicron.toml````\r\n\r\n  > **WARNING**\r\n  >\r\n  > the step below will drop any existing tables in the configured database and create new ones i.e:\r\n  > ````sql\r\n  > DROP TABLE IF EXISTS jobs; CREATE TABLE jobs ..\r\n  > ````\r\n\r\n6. You can then ````minicron db setup```` to create the database schema, alternatively you can use\r\n   the [schema dump provided](https://github.com/jamesrwhite/minicron/blob/master/lib/minicron/hub/db/schema.sql) (MySQL)\r\n\r\n7. Done! See the usage section below for more details on how to use minicron now you have it installed\r\n\r\n#### Docker\r\n\r\nYou can also run minicron in a docker container, see below for instructions how:\r\n\r\n````bash\r\ngit clone https://github.com/jamesrwhite/minicron.git\r\ncd minicron\r\ndocker build -t minicron-0.8.3 .\r\ndocker run -d -p 127.0.0.1:9292:9292 -i -t minicron-0.8.3\r\ndocker ps | grep minicron\r\ndocker exec *container_hash* minicron server start\r\n````\r\n\r\nUsage\r\n-----\r\n\r\n#### Run a command\r\n\r\n````bash\r\nminicron run 'mysqldump db > backup.sql'\r\n````\r\n\r\nThe global ````--verbose```` option can also be passed to the ````run```` argument like so\r\n\r\n````bash\r\nminicron run --verbose ls\r\n````\r\n\r\nYou can also run a command in 'dry run' mode to test if it works without sending the output to the server.\r\n\r\n````bash\r\nminicron run --dry-run 'zip -r backup.zip website'\r\n````\r\n\r\nfor further information see ````minicron help run````.\r\n\r\n#### Get help\r\n\r\nRunning ````minicron```` with no arguments is an alias to running ````minicron help````, ````minicron -h```` or ````minicron --help````.\r\nYou can also use the help argument to get information on any command as shown above in the run a command section\r\nor alternatively you can pass the ````-h```` or ````--help```` options like so ````minicron run -h````.\r\n\r\n#### Server\r\n\r\nTo launch the server (aka the Hub) run\r\n\r\n````bash\r\nminicron server start\r\n````\r\n\r\nby default it will bind to port 9292 on the host 0.0.0.0 but this can be configured by the command line\r\narguments ````--host```` ````--port```` and ````--path```` or in the config file.\r\n\r\nBy default the server will run as a daemon with its process id stored in ````/tmp/minicron.pid````\r\nyou can also use the ````stop````, ````restart```` and ````status```` commands to control the server.\r\n\r\nTo run the server in debug mode, so you can see its output and any errors you can pass the ````--debug````\r\noption.\r\n\r\nSee [nginx.conf](https://github.com/jamesrwhite/minicron/blob/master/config/nginx.conf) for an example of\r\nhow to run minicron behind a reverse proxy.\r\n\r\n#### Connecting to a host via SSH\r\n\r\nTo be able to perform CRUD operations on the crontab minicron needs to connect via SSH to the host.\r\nWhen you set up a host minicron automatically creates a public/private key pair for you and stores it\r\nin ````~/.ssh```` on the host the minicron server is being run on using the naming schema ````minicron_host_*HOST_ID*_rsa(.pub)````.\r\nTo be able edit the crontab on a host minicron needs to have permission to edit ````/etc/crontab```` and write and\r\nexecute permissions on the ````/etc```` directory so it can move files there (the crontab). This will most\r\nlikely mean allowing minicron to connect to the host as the root user although you could alter your permissions\r\nto allow for this not to be the case.\r\n\r\nAs an example, to setup minicron SSH for the root user on a host copy the public key to the hosts\r\nauthorized_keys file e.g ````/root/.ssh/authorized_keys```` on\r\nmost linux distributions or ````/var/root/.ssh/authorized_keys```` on OSX.\r\n\r\n#### Version\r\n\r\nLike many command line programs minicron will show its version number when the global options ````-v````\r\nor ````--version```` are passed to the CLI.\r\n\r\n#### Configuration\r\n\r\nSome configuration options can be passed in manually but the recommend way to configure minicron is through the use\r\nof a config file. You can specify the path to the file using the ````--config```` global option. The file is expected\r\nto be in the [toml](https://github.com/mojombo/toml) format. The default options are specified in the\r\n[minicron.toml](https://github.com/jamesrwhite/minicron/blob/master/config/minicron.toml)\r\nfile and minicron will parse a config located in ````/etc/minicron.toml```` if it exists. Options specified via\r\nthe command line will take precedence over those taken from a config file.\r\n\r\nSecurity\r\n---------\r\n\r\nAs mentioned previously minicron is still under development and as such is missing some essential features as far as\r\nsecurity is concerned. For example authentication still needs to be added.\r\n\r\n  > **It is not recommended that you allow your minicron host to be accessible via the public internet!**\r\n\r\nObviously without authentication anyone who knew the address of your minicron host would be able to set up\r\na potentially malicious job on one of your servers! Future versions may be secure enough to expose publicly but personally\r\nI still would not recommend it, minicron is designed to be an internal tool and should be behind a firewall that only allows\r\nconnections from an internal network and/or a VPN.\r\n\r\nVersioning\r\n-----------\r\n\r\nAll stable releases will follow the [semantic versioning](http://semver.org/) guidelines. Until 1.0 hits I will try\r\nto document any breaking changes in the release descriptions but you should proceed with caution before relying\r\non anything etc etc\r\n\r\nReleases will be numbered with the following format:\r\n\r\n`<major>.<minor>.<patch>`\r\n\r\nBased on the following guidelines:\r\n\r\n* A new *major* release indicates a large change where backwards compatibility is broken.\r\n* A new *minor* release indicates a normal change that maintains backwards compatibility.\r\n* A new *patch* release indicates a bugfix or small change which does not affect compatibility.\r\n\r\nRoadmap\r\n--------\r\n\r\nI'm going to work out a proper roadmap for the epic journey towards 1.0 in a few weeks when I have more time to focus\r\non this but until then some rough thoughts in no real order..\r\n\r\n- Full cron syntax support ([#25](https://github.com/jamesrwhite/minicron/issues/25))\r\n- More robust handling of failure in various places/situations\r\n- Better test coverage for core features\r\n- More 3rd party alerting integrations\r\n- REST API\r\n- Revision control for changes and acitvity tracking\r\n- Support for crontabs in differing locations\r\n- Better experience on mobile/tablet\r\n- Improved security through authentication and permissions\r\n- Better configuration management\r\n- Per job configs? Not sure exactly how this would work but it would be handy\r\n  [#82](https://github.com/jamesrwhite/minicron/issues/82)\r\n- Better performance when lots of data exists in the system (pagination, lazy loading etc)\r\n- UI improvements, it's just tweaked bootstrap 3 at the moment\r\n- Various other improvements that hopefully already have issues assigned for them..\r\n\r\nContributing\r\n------------\r\n\r\nFeedback and pull requests are welcome, please see [CONTRIBUTING.md](https://github.com/jamesrwhite/minicron/blob/master/CONTRIBUTING.md)\r\nfor more info.\r\n\r\nAreas that I would love some help with:\r\n\r\n- Any of the unassigned [issues here](https://github.com/jamesrwhite/minicron/issues?state=open).\r\n- General testing of the system, let me know what you think and create issues for any bugs you find!\r\n- Tests!!\r\n- Validation and error handling improvements\r\n- Documentation improvements.\r\n- Look for '[TODO:](https://github.com/jamesrwhite/minicron/search?q=TODO%3A)' notices littered around the code,\r\n  I'm trying to convert them all to issues but there are a lot..\r\n- Code refactoring, I had a deadline to meet for the initial versions so some parts are a tad rushed\r\n- UI improvements\r\n\r\nSupport\r\n--------\r\n\r\nWhere possible I will try and provide support for minicron, you can get in touch with me via:\r\n\r\n- Twitter: [@jamesrwhite](https://twitter.com/jamesrwhite)\r\n  or [@minicron_dev](https://twitter.com/minicron_dev)\r\n- Email: [dev.jameswhite+minicron@gmail.com](mailto:dev.jameswhite+minicron@gmail.com)\r\n\r\nOr feel free to open an issue and I'll do my best to help.\r\n\r\nCredit\r\n-------\r\n\r\nminicron makes use of a *lot* of awesome open source projects that have saved me a lot of time in its development.\r\nI started out trying to list all of them but it was taking way too much time so check out the dependencies in\r\n[minicron.gemspec](https://github.com/jamesrwhite/minicron/blob/master/minicron.gemspec) and\r\n[app.rb](https://github.com/jamesrwhite/minicron/blob/master/lib/minicron/hub/app.rb).\r\n\r\nLicense\r\n--------\r\n\r\nminicron is licensed under the GPL v3, [see here for the full license](https://github.com/jamesrwhite/minicron/blob/master/LICENSE)\r\n","google":"UA-49762101-1","note":"Don't delete this file! It's used internally to help with page regeneration."}